---
permalink: sm-support/controller-software-and-firmware-upgrades.html 
sidebar: sidebar 
keywords: can, upgrade, storage, array, software, firmware, latest, feature, bug, fixes 
summary: ストレージアレイのソフトウェアとファームウェアをアップグレードして、最新の機能やバグ修正をすべて適用することができます。 
---
= コントローラのソフトウェアとファームウェアのアップグレード
:allow-uri-read: 
:experimental: 
:icons: font
:imagesdir: ../media/


[role="lead"]
ストレージアレイのソフトウェアとファームウェアをアップグレードして、最新の機能とバグ修正をすべて適用することができます。



== SANtricity OSコントローラソフトウェアのアップグレードに含まれるコンポーネント

ストレージアレイのいくつかのコンポーネントには、適宜アップグレードが必要なソフトウェアやハードウェアが含まれています。

* *管理ソフトウェア*-- System Managerはストレージ・アレイを管理するソフトウェアです
* * コントローラファームウェア * -- コントローラファームウェアは、ホストとボリューム間の I/O を管理します。
* * コントローラ NVSRAM * -- コントローラ NVSRAM は、コントローラのデフォルト設定を指定するコントローラファイルです。
* * IOM ファームウェア * - I/O モジュール（ IOM ）ファームウェアは、コントローラとドライブシェルフの間の接続を管理します。また、コンポーネントのステータスも監視します。
* * スーパーバイザー・ソフトウェア * -- スーパーバイザー・ソフトウェアは、ソフトウェアが実行されるコントローラ上の仮想マシンです。


image::../media/sam1130-dwg-upgrade-firmware-locations.gif[SA1130 DWGアップグレードファームウェアの場所]

^1コントローラシェルフ；^2^ドライブシェルフ；^3^ソフトウェア、コントローラファームウェア、コントローラNVSRAM、 スーパーバイザーソフトウェア、^4^Driveファームウェア、^5^IOMファームウェア、^6^Driveファームウェア

ソフトウェアとファームウェアの現在のバージョンは、[ソフトウェアとファームウェアのインベントリ]ダイアログボックスで確認できます。[Upgrade Center] メニューに移動し、 [* Software and Firmware Inventory] のリンクをクリックします。

アップグレードプロセスの一環として、ホストがコントローラと正しく連携するように、ホストのマルチパス/フェイルオーバードライバやHBAドライバのアップグレードも必要になることがあります。該当するかどうかを確認するには、を参照してください https://imt.netapp.com/matrix/#welcome["NetApp Interoperability Matrix Toolで確認できます"^]。



== I/Oを停止するタイミング

ストレージアレイにコントローラが2台あり、マルチパスドライバがインストールされている場合は、アップグレードの実行中もストレージアレイでI/Oの処理を継続できます。アップグレードでは、コントローラAのすべてのボリュームがコントローラBにフェイルオーバーしてコントローラAがアップグレードされます。その後、コントローラAにボリュームとコントローラBのすべてのボリュームがテイクオーバーされ、コントローラBがアップグレードされます



== アップグレード前の健常性チェック

アップグレードプロセスの一環として、アップグレード前の健常性チェックが実行されます。アップグレード前の健常性チェックでは、ストレージアレイのすべてのコンポーネントについて、アップグレードを実行できる状態であるかがチェックされます。次の状況に該当する場合、アップグレードを実行できないことがあり

* 割り当てられたドライブで障害が発生し
* ホットスペアを使用中です
* 不完全なボリュームグループです
* 同時に実行できません
* ボリュームが見つからない
* コントローラのステータスが最適でない
* イベントログイベントが多すぎます
* 構成データベースの検証に失敗しました
* ドライブの DACstore のバージョンが古い


アップグレード前の健常性チェックは、アップグレードとは別に実行することもできます。
